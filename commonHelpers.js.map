{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// ====================== SETTING =========================\n\nconst datePicker = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst time = {\n  days: document.querySelector(`[data-days]`),\n  hours: document.querySelector(`[data-hours]`),\n  minutes: document.querySelector(`[data-minutes]`),\n  seconds: document.querySelector(`[data-seconds]`),\n};\n\nconst { days, hours, minutes, seconds } = time;\n\nconst daysValue = days.textContent;\nconst hoursValue = hours.textContent;\nconst minutesValue = minutes.textContent;\nconst secondsValue = seconds.textContent;\n\n// =================== DEFAULT ========================\n\nlet userSelectedDate = null;\ndatePicker.disabled = false;\ndatePicker.value = ``;\nstartBtn.disabled = true;\n\n// ===================== CODE ===================\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    if (userSelectedDate < new Date()) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n      startBtn.disabled = true;\n    } else {\n      startBtn.disabled = false;\n    }\n  },\n};\n\nflatpickr(datePicker, options);\n\nstartBtn.addEventListener('click', () => {\n  datePicker.disabled = true;\n  startBtn.disabled = true;\n\n  const countdownInterval = setInterval(() => {\n    const timeDifference = userSelectedDate - new Date();\n    if (timeDifference <= 0) {\n      clearInterval(countdownInterval);\n      iziToast.success({\n        title: 'Success',\n        message: 'The countdown is complete!',\n      });\n      updateTimeOnDisplay({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n      datePicker.disabled = false;\n      return;\n    }\n    const timeObject = convertMs(timeDifference);\n    updateTimeOnDisplay(timeObject);\n  }, 1000);\n});\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction updateTimeOnDisplay({ days, hours, minutes, seconds }) {\n  time.days.textContent = days.toString().padStart(2, '0');\n  time.hours.textContent = hours.toString().padStart(2, '0');\n  time.minutes.textContent = minutes.toString().padStart(2, '0');\n  time.seconds.textContent = seconds.toString().padStart(2, '0');\n}\n"],"names":["datePicker","startBtn","time","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","iziToast","flatpickr","countdownInterval","timeDifference","updateTimeOnDisplay","timeObject","convertMs","ms"],"mappings":"6vBAOA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,CACX,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAClD,EAEM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAKJ,EAExBC,EAAK,YACJC,EAAM,YACJC,EAAQ,YACRC,EAAQ,YAI7B,IAAIC,EAAmB,KACvBP,EAAW,SAAW,GACtBA,EAAW,MAAQ,GACnBC,EAAS,SAAW,GAIpB,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,gBAAiB,EACjB,QAAQC,EAAe,CACrBF,EAAmBE,EAAc,CAAC,EAC9BF,EAAmB,IAAI,MACzBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EACDT,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAEvB,CACH,EAEAU,EAAUX,EAAYQ,CAAO,EAE7BP,EAAS,iBAAiB,QAAS,IAAM,CACvCD,EAAW,SAAW,GACtBC,EAAS,SAAW,GAEpB,MAAMW,EAAoB,YAAY,IAAM,CAC1C,MAAMC,EAAiBN,EAAmB,IAAI,KAC9C,GAAIM,GAAkB,EAAG,CACvB,cAAcD,CAAiB,EAC/BF,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,4BACjB,CAAO,EACDI,EAAoB,CAAE,KAAM,EAAG,MAAO,EAAG,QAAS,EAAG,QAAS,CAAC,CAAE,EACjEd,EAAW,SAAW,GACtB,MACD,CACD,MAAMe,EAAaC,EAAUH,CAAc,EAC3CC,EAAoBC,CAAU,CAC/B,EAAE,GAAI,CACT,CAAC,EAED,SAASC,EAAUC,EAAI,CAQrB,MAAMd,EAAO,KAAK,MAAMc,EAAK,KAAG,EAE1Bb,EAAQ,KAAK,MAAOa,EAAK,MAAO,IAAI,EAEpCZ,EAAU,KAAK,MAAQY,EAAK,MAAO,KAAQ,GAAM,EAEjDX,EAAU,KAAK,MAASW,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAd,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASQ,EAAoB,CAAE,KAAAX,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAC9DJ,EAAK,KAAK,YAAcC,EAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EACvDD,EAAK,MAAM,YAAcE,EAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EACzDF,EAAK,QAAQ,YAAcG,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC7DH,EAAK,QAAQ,YAAcI,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CAC/D"}